
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Test\_CSV\_Files\_dedupe}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    https://dedupeio.github.io/dedupe-examples/docs/csv\_example.html

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{os}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{csv}
        \PY{k+kn}{import} \PY{n+nn}{re}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{import} \PY{n+nn}{logging}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{k+kn}{import} \PY{n+nn}{optparse}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k+kn}{from} \PY{n+nn}{future}\PY{n+nn}{.}\PY{n+nn}{builtins} \PY{k}{import} \PY{n+nb}{next}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k+kn}{import} \PY{n+nn}{dedupe}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{k+kn}{from} \PY{n+nn}{unidecode} \PY{k}{import} \PY{n}{unidecode}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{optp} \PY{o}{=} \PY{n}{optparse}\PY{o}{.}\PY{n}{OptionParser}\PY{p}{(}\PY{p}{)}
        \PY{n}{optp}\PY{o}{.}\PY{n}{add\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}v}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}\PYZhy{}verbose}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{dest}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{verbose}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{action}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{help}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Increase verbosity (specify multiple times for more)}\PY{l+s+s1}{\PYZsq{}}
                        \PY{p}{)}
        \PY{p}{(}\PY{n}{opts}\PY{p}{,} \PY{n}{args}\PY{p}{)} \PY{o}{=} \PY{n}{optp}\PY{o}{.}\PY{n}{parse\PYZus{}args}\PY{p}{(}\PY{p}{)}
        \PY{n}{log\PYZus{}level} \PY{o}{=} \PY{n}{logging}\PY{o}{.}\PY{n}{WARNING} 
        \PY{k}{if} \PY{n}{opts}\PY{o}{.}\PY{n}{verbose}\PY{p}{:}
            \PY{k}{if} \PY{n}{opts}\PY{o}{.}\PY{n}{verbose} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                \PY{n}{log\PYZus{}level} \PY{o}{=} \PY{n}{logging}\PY{o}{.}\PY{n}{INFO}
            \PY{k}{elif} \PY{n}{opts}\PY{o}{.}\PY{n}{verbose} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2}\PY{p}{:}
                \PY{n}{log\PYZus{}level} \PY{o}{=} \PY{n}{logging}\PY{o}{.}\PY{n}{DEBUG}
        \PY{n}{logging}\PY{o}{.}\PY{n}{getLogger}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{setLevel}\PY{p}{(}\PY{n}{log\PYZus{}level}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Usage: ipykernel\_launcher.py [options]

ipykernel\_launcher.py: error: no such option: -f

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        An exception has occurred, use \%tb to see the full traceback.


        SystemExit: 2


    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/opt/conda/lib/python3.6/site-packages/IPython/core/interactiveshell.py:2918: UserWarning: To exit: use 'exit', 'quit', or Ctrl-D.
  warn("To exit: use 'exit', 'quit', or Ctrl-D.", stacklevel=1)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{o}{\PYZpc{}}\PY{k}{tb}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{os}\PY{o}{.}\PY{n}{getcwd}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:} '/home/jovyan/work/dedupe'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{directory} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/home/jovyan/work/dedupe/dedupe\PYZhy{}examples/csv\PYZus{}example/}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{input\PYZus{}file} \PY{o}{=} \PY{n}{directory} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{csv\PYZus{}example\PYZus{}messy\PYZus{}input.csv}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{output\PYZus{}file} \PY{o}{=} \PY{n}{directory} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{csv\PYZus{}example\PYZus{}output.csv}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{settings\PYZus{}file} \PY{o}{=} \PY{n}{directory} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{csv\PYZus{}example\PYZus{}learned\PYZus{}settings}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{training\PYZus{}file} \PY{o}{=} \PY{n}{directory} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{csv\PYZus{}example\PYZus{}training.json}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{def} \PY{n+nf}{preProcess}\PY{p}{(}\PY{n}{column}\PY{p}{)}\PY{p}{:}
             \PY{k}{try} \PY{p}{:} \PY{c+c1}{\PYZsh{} python 2/3 string differences}
                 \PY{n}{column} \PY{o}{=} \PY{n}{column}\PY{o}{.}\PY{n}{decode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{utf8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{k}{except} \PY{n+ne}{AttributeError}\PY{p}{:}
                 \PY{k}{pass}
             \PY{n}{column} \PY{o}{=} \PY{n}{unidecode}\PY{p}{(}\PY{n}{column}\PY{p}{)}
             \PY{n}{column} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{sub}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{  +}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{column}\PY{p}{)}
             \PY{n}{column} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{sub}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{column}\PY{p}{)}
             \PY{n}{column} \PY{o}{=} \PY{n}{column}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{o}{.}\PY{n}{lower}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
             
             \PY{k}{if} \PY{o+ow}{not} \PY{n}{column}\PY{p}{:}
                 \PY{n}{column} \PY{o}{=} \PY{k+kc}{None}
             \PY{k}{return} \PY{n}{column}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k}{def} \PY{n+nf}{readData}\PY{p}{(}\PY{n}{filename}\PY{p}{)}\PY{p}{:}
         \PY{c+c1}{\PYZsh{}}
             \PY{n}{data\PYZus{}d} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
             \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{filename}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                 \PY{n}{reader} \PY{o}{=} \PY{n}{csv}\PY{o}{.}\PY{n}{DictReader}\PY{p}{(}\PY{n}{f}\PY{p}{)}
                 \PY{k}{for} \PY{n}{row} \PY{o+ow}{in} \PY{n}{reader}\PY{p}{:}
                     \PY{n}{clean\PYZus{}row} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{n}{k}\PY{p}{,} \PY{n}{preProcess}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{p}{)} \PY{k}{for} \PY{p}{(}\PY{n}{k}\PY{p}{,} \PY{n}{v}\PY{p}{)} \PY{o+ow}{in} \PY{n}{row}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{]}
                     \PY{n}{row\PYZus{}id} \PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                     \PY{n}{data\PYZus{}d}\PY{p}{[}\PY{n}{row\PYZus{}id}\PY{p}{]} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{n}{clean\PYZus{}row}\PY{p}{)}
         
             \PY{k}{return} \PY{n}{data\PYZus{}d}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{importing data ...}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
importing data {\ldots}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{data\PYZus{}d} \PY{o}{=} \PY{n}{readData}\PY{p}{(}\PY{n}{input\PYZus{}file}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k}{if} \PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{exists}\PY{p}{(}\PY{n}{settings\PYZus{}file}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reading from}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{settings\PYZus{}file}\PY{p}{)}
             \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{settings\PYZus{}file}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                 \PY{n}{deduper} \PY{o}{=} \PY{n}{dedupe}\PY{o}{.}\PY{n}{StaticDedupe}\PY{p}{(}\PY{n}{f}\PY{p}{)}
         \PY{k}{else}\PY{p}{:}
             
             
             
             \PY{n}{fields} \PY{o}{=} \PY{p}{[}
                 \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{field}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Site name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{String}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{field}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Address}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{String}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{field}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zip}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Exact}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{has missing}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{k+kc}{True}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{field}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Phone}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{String}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{has missing}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{k+kc}{True}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{p}{]}
             \PY{n}{deduper} \PY{o}{=} \PY{n}{dedupe}\PY{o}{.}\PY{n}{Dedupe}\PY{p}{(}\PY{n}{fields}\PY{p}{)}
             
             
             \PY{n}{deduper}\PY{o}{.}\PY{n}{sample}\PY{p}{(}\PY{n}{data\PYZus{}d}\PY{p}{,} \PY{l+m+mi}{15000}\PY{p}{)}
             
             \PY{k}{if} \PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{exists}\PY{p}{(}\PY{n}{training\PYZus{}file}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reading labeled examples from }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{training\PYZus{}file}\PY{p}{)}
                 \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{training\PYZus{}file}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                     \PY{n}{deduper}\PY{o}{.}\PY{n}{readTraining}\PY{p}{(}\PY{n}{f}\PY{p}{)}
                     
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{starting active labeling...}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
INFO:dedupe.canopy\_index:Removing stop word  s

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
starting active labeling{\ldots}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{dedupe}\PY{o}{.}\PY{n}{consoleLabel}\PY{p}{(}\PY{n}{deduper}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Site name : henry booth house - bernard gentry
Address : 2326 s dearborn st
Zip : None
Phone : 8428557

Site name : henry booth house - gentry
Address : 2326 s. dearborn
Zip : None
Phone : 8428557

0/10 positive, 0/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
y

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Site name : hull house association fcch-monica pierce
Address : 1644 s avers st
Zip : 60623
Phone : 2355342

Site name : hull house association fcch-sherisse holmes
Address : 4119 w 16th st
Zip : 60623
Phone : 2355342

1/10 positive, 0/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
y

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:dedupe.training:Final predicate set:
INFO:dedupe.training:(ExistsPredicate: (Exists, Zip), TfidfTextCanopyPredicate: (0.8, Address))
Site name : carole robertson center for learning - carole robertson center ctr 2020
Address : 2020 w roosevelt rd
Zip : None
Phone : 2437300

Site name : easter seals society of metropolitan chicago - gilchrist-marchman
Address : 1001 w roosevelt rd
Zip : None
Phone : 9395115

2/10 positive, 0/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
n

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
INFO:dedupe.training:Final predicate set:
INFO:dedupe.training:(ExistsPredicate: (Exists, Zip), SimplePredicate: (alphaNumericPredicate, Phone))
Site name : taylor
Address : 9912 s. avenue
Zip : None
Phone : 5356240

Site name : chicago public schools seward, william h.
Address : 4600 s hermitage ave.
Zip : 60609
Phone : 5354890

2/10 positive, 1/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
n

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Site name : el valor - teddy bear 3 pulaski
Address : 6401 s pulaski rd
Zip : None
Phone : None

Site name : south harper 0-3
Address : 8358 s. stony island
Zip : 60617
Phone : 7340303

2/10 positive, 2/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
n

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Site name : irving park early learning center
Address : 3023 w. montrose
Zip : None
Phone : 5397422

Site name : irving park early learning center
Address : 3023 w montrose avenue
Zip : 60618
Phone : 5397422

2/10 positive, 3/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
y

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Site name : lutheran social services of illinois - englewood messiah
Address : 1910 w 64th st
Zip : None
Phone : None

Site name : claremont
Address : 2300 w. 64th st
Zip : None
Phone : 5358110

3/10 positive, 3/10 negative
Do these records refer to the same thing?
(y)es / (n)o / (u)nsure / (f)inished / (p)revious

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
f

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Finished labeling
INFO:dedupe.training:Final predicate set:
INFO:dedupe.training:(SimplePredicate: (alphaNumericPredicate, Phone), SimplePredicate: (commonThreeTokens, Site name))

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{deduper}\PY{o}{.}\PY{n}{train}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
INFO:rlr.crossvalidation:using cross validation to find optimum alpha{\ldots}
/opt/conda/lib/python3.6/site-packages/rlr/crossvalidation.py:122: RuntimeWarning: invalid value encountered in double\_scalars
  * (true\_distinct + false\_distinct)))
INFO:rlr.crossvalidation:optimum alpha: 1.000000, score 0.26666666666666666
INFO:dedupe.training:Final predicate set:
INFO:dedupe.training:(SimplePredicate: (alphaNumericPredicate, Phone), SimplePredicate: (commonThreeTokens, Site name))

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{training\PYZus{}file}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{tf}\PY{p}{:}
                 \PY{n}{deduper}\PY{o}{.}\PY{n}{writeTraining}\PY{p}{(}\PY{n}{tf}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:}  \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{settings\PYZus{}file}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{sf}\PY{p}{:}
                 \PY{n}{deduper}\PY{o}{.}\PY{n}{writeSettings}\PY{p}{(}\PY{n}{sf}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{threshold} \PY{o}{=} \PY{n}{deduper}\PY{o}{.}\PY{n}{threshold}\PY{p}{(}\PY{n}{data\PYZus{}d}\PY{p}{,} \PY{n}{recall\PYZus{}weight}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
INFO:dedupe.api:Maximum expected recall and precision
INFO:dedupe.api:recall: 0.998
INFO:dedupe.api:precision: 0.875
INFO:dedupe.api:With threshold: 0.479

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clustering...}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{clustered\PYZus{}dupes} \PY{o}{=} \PY{n}{deduper}\PY{o}{.}\PY{n}{match}\PY{p}{(}\PY{n}{data\PYZus{}d}\PY{p}{,} \PY{n}{threshold}\PY{p}{)}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} duplicate sets}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{clustered\PYZus{}dupes}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
clustering{\ldots}
\# duplicate sets 517

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{cluster\PYZus{}membership} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         \PY{n}{cluster\PYZus{}id} \PY{o}{=} \PY{l+m+mi}{0}
         \PY{k}{for} \PY{p}{(}\PY{n}{cluster\PYZus{}id}\PY{p}{,} \PY{n}{cluster}\PY{p}{)} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{clustered\PYZus{}dupes}\PY{p}{)}\PY{p}{:}
             \PY{n}{id\PYZus{}set}\PY{p}{,} \PY{n}{scores} \PY{o}{=} \PY{n}{cluster}
             \PY{n}{cluster\PYZus{}d} \PY{o}{=} \PY{p}{[}\PY{n}{data\PYZus{}d}\PY{p}{[}\PY{n}{c}\PY{p}{]} \PY{k}{for} \PY{n}{c} \PY{o+ow}{in} \PY{n}{id\PYZus{}set}\PY{p}{]}
             \PY{n}{canonical\PYZus{}rep} \PY{o}{=} \PY{n}{dedupe}\PY{o}{.}\PY{n}{canonicalize}\PY{p}{(}\PY{n}{cluster\PYZus{}d}\PY{p}{)}
             \PY{k}{for} \PY{n}{record\PYZus{}id}\PY{p}{,} \PY{n}{score} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{id\PYZus{}set}\PY{p}{,} \PY{n}{scores}\PY{p}{)}\PY{p}{:}
                 \PY{n}{cluster\PYZus{}membership}\PY{p}{[}\PY{n}{record\PYZus{}id}\PY{p}{]} \PY{o}{=} \PY{p}{\PYZob{}}
                     \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cluster id}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{n}{cluster\PYZus{}id}\PY{p}{,}
                     \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{canonical representation}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{n}{canonical\PYZus{}rep}\PY{p}{,}
                     \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{confidence}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{score}
                 \PY{p}{\PYZcb{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{singleton\PYZus{}id} \PY{o}{=} \PY{n}{cluster\PYZus{}id} \PY{o}{+} \PY{l+m+mi}{1}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{output\PYZus{}file}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f\PYZus{}output}\PY{p}{,} \PY{n+nb}{open}\PY{p}{(}\PY{n}{input\PYZus{}file}\PY{p}{)} \PY{k}{as} \PY{n}{f\PYZus{}input}\PY{p}{:}
             \PY{n}{writer} \PY{o}{=} \PY{n}{csv}\PY{o}{.}\PY{n}{writer}\PY{p}{(}\PY{n}{f\PYZus{}output}\PY{p}{)}
             \PY{n}{reader} \PY{o}{=} \PY{n}{csv}\PY{o}{.}\PY{n}{reader}\PY{p}{(}\PY{n}{f\PYZus{}input}\PY{p}{)}
         
             \PY{n}{heading\PYZus{}row} \PY{o}{=} \PY{n+nb}{next}\PY{p}{(}\PY{n}{reader}\PY{p}{)}
             \PY{n}{heading\PYZus{}row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{confidence\PYZus{}score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{heading\PYZus{}row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{canonical\PYZus{}keys} \PY{o}{=} \PY{n}{canonical\PYZus{}rep}\PY{o}{.}\PY{n}{keys}\PY{p}{(}\PY{p}{)}
             \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{canonical\PYZus{}keys}\PY{p}{:}
                 \PY{n}{heading\PYZus{}row}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{canonical\PYZus{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{key}\PY{p}{)}
         
             \PY{n}{writer}\PY{o}{.}\PY{n}{writerow}\PY{p}{(}\PY{n}{heading\PYZus{}row}\PY{p}{)}
         
             \PY{k}{for} \PY{n}{row} \PY{o+ow}{in} \PY{n}{reader}\PY{p}{:}
                 \PY{n}{row\PYZus{}id} \PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{row}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                 \PY{k}{if} \PY{n}{row\PYZus{}id} \PY{o+ow}{in} \PY{n}{cluster\PYZus{}membership}\PY{p}{:}
                     \PY{n}{cluster\PYZus{}id} \PY{o}{=} \PY{n}{cluster\PYZus{}membership}\PY{p}{[}\PY{n}{row\PYZus{}id}\PY{p}{]}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cluster id}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
                     \PY{n}{canonical\PYZus{}rep} \PY{o}{=} \PY{n}{cluster\PYZus{}membership}\PY{p}{[}\PY{n}{row\PYZus{}id}\PY{p}{]}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{canonical representation}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
                     \PY{n}{row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{cluster\PYZus{}membership}\PY{p}{[}\PY{n}{row\PYZus{}id}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{confidence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                     \PY{n}{row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{cluster\PYZus{}id}\PY{p}{)}
                     \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{canonical\PYZus{}keys}\PY{p}{:}
                         \PY{n}{row}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{canonical\PYZus{}rep}\PY{p}{[}\PY{n}{key}\PY{p}{]}\PY{o}{.}\PY{n}{encode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{utf8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n}{row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
                     \PY{n}{row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{singleton\PYZus{}id}\PY{p}{)}
                     \PY{n}{singleton\PYZus{}id} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                     \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{canonical\PYZus{}keys}\PY{p}{:}
                         \PY{n}{row}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{k+kc}{None}\PY{p}{)}
                 \PY{n}{writer}\PY{o}{.}\PY{n}{writerow}\PY{p}{(}\PY{n}{row}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{dfOutput} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{output\PYZus{}file}\PY{p}{)}
         \PY{n}{dfOutput}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:}     Cluster ID  confidence\_score  Id                                 Source  \textbackslash{}
         0          219          0.922147   0  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         1          219          0.922147   1  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         2          220          0.836727   2  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         3          220          0.836727   3  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         4          221          0.946079   4  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         5          221          0.946079   5  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         6          222          0.946079   6  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         7          222          0.946079   7  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         8          223          0.926939   8  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         9          224          0.878407   9  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         10         224          0.878407  10  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         11         225          0.926119  11  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         12         225          0.926119  12  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         13         517               NaN  13  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         14         226          0.946079  14  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         15         226          0.946079  15  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         16         518               NaN  16  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         17         227          0.914768  17  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         18         178          0.789952  18  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         19         228          0.924330  19  CPS\_Early\_Childhood\_Portal\_scrape.csv   
         
                                                     Site name                Address  \textbackslash{}
         0            Salvation Army - Temple / Salvation Army         1 N Ogden Ave    
         1            Salvation Army - Temple / Salvation Army         1 N Ogden Ave    
         2    National Louis University - Dr. Effie O. Elli{\ldots}       10 S Kedzie Ave    
         3    National Louis University - Dr. Effie O. Elli{\ldots}       10 S Kedzie Ave    
         4    Board Trustees-City Colleges of Chicago - Oli{\ldots}  10001 S Woodlawn Ave    
         5    Board Trustees-City Colleges of Chicago - Oli{\ldots}  10001 S Woodlawn Ave    
         6    Easter Seals Society of Metropolitan Chicago {\ldots}   1001 W Roosevelt Rd    
         7    Easter Seals Society of Metropolitan Chicago {\ldots}   1001 W Roosevelt Rd    
         8    Hull House Association - Uptown Head Start / {\ldots}  1020 W Bryn Mawr Ave    
         9    Hull House Association - Child Dev. Central O{\ldots}   1030 W Van Buren St    
         10   Hull House Association - Child Dev. Central O{\ldots}   1030 W Van Buren St    
         11   Catholic Charities of the Archdiocese of Chic{\ldots}  10509 S Torrence Ave    
         12   Catholic Charities of the Archdiocese of Chic{\ldots}  10509 S Torrence Ave    
         13   Chicago State University - Community Learning{\ldots}     10612 S Wentworth    
         14   Catholic Charities of the Archdiocese of Chic{\ldots}         1100 S May St    
         15   Catholic Charities of the Archdiocese of Chic{\ldots}         1100 S May St    
         16           Thresholds - Thresholds Mothers' Project    1110 W Belmont Ave    
         17   Bethel New Life - Molade Child Development Ce{\ldots}      1120 N Lamon Ave    
         18   South East Asia Center - South-East Asia Cent{\ldots}     1124 W Ainslie St    
         19   Ada S. McKinley Community Services - McKinley{\ldots}  11410 S Edbrooke Ave    
         
             Zip      Phone  Fax Program Name        {\ldots}          \textbackslash{}
         0   NaN  2262649.0  NaN   Child Care        {\ldots}           
         1   NaN  2262649.0  NaN   Child Care        {\ldots}           
         2   NaN  5339011.0  NaN   Child Care        {\ldots}           
         3   NaN  5339011.0  NaN   Child Care        {\ldots}           
         4   NaN  2916100.0  NaN   Child Care        {\ldots}           
         5   NaN  2916100.0  NaN   Child Care        {\ldots}           
         6   NaN  9395115.0  NaN   Child Care        {\ldots}           
         7   NaN  9395115.0  NaN   Child Care        {\ldots}           
         8   NaN  7695753.0  NaN   Child Care        {\ldots}           
         9   NaN  9068600.0  NaN   Child Care        {\ldots}           
         10  NaN  9068600.0  NaN   Child Care        {\ldots}           
         11  NaN  3746466.0  NaN   Child Care        {\ldots}           
         12  NaN  3746466.0  NaN   Child Care        {\ldots}           
         13  NaN        NaN  NaN   Child Care        {\ldots}           
         14  NaN  6663787.0  NaN   Child Care        {\ldots}           
         15  NaN  6663787.0  NaN   Child Care        {\ldots}           
         16  NaN  4723558.0  NaN   Child Care        {\ldots}           
         17  NaN  6267760.0  NaN   Child Care        {\ldots}           
         18  NaN  9897433.0  NaN   Child Care        {\ldots}           
         19  NaN  4681918.0  NaN   Child Care        {\ldots}           
         
                                  canonical\_Executive Director  \textbackslash{}
         0                                                 b''   
         1                                                 b''   
         2   b'4364ps(hs collaboration with childcare \& prek)'   
         3   b'4364ps(hs collaboration with childcare \& prek)'   
         4                                                 b''   
         5                                                 b''   
         6                                                 b''   
         7                                                 b''   
         8   b'7027ps(hs collaboration with childcare \& prek)'   
         9                                                 b''   
         10                                                b''   
         11                                                b''   
         12                                                b''   
         13                                                NaN   
         14                                                b''   
         15                                                b''   
         16                                                NaN   
         17                                                b''   
         18                         b'4127sa(school age (sa))'   
         19         b'7021ps(hs collaboration with childcare)'   
         
            canonical\_Center Director canonical\_ECE Available Programs  \textbackslash{}
         0                        b''                            b'cp'   
         1                        b''                            b'cp'   
         2     b'www.ymcachicago.org'             b'dorothy cole-gary'   
         3     b'www.ymcachicago.org'             b'dorothy cole-gary'   
         4                        b''                              b''   
         5                        b''                              b''   
         6                        b''                              b''   
         7                        b''                              b''   
         8                        b''                              b''   
         9                        b''                              b''   
         10                       b''                              b''   
         11                       b''                              b''   
         12                       b''                              b''   
         13                       NaN                              NaN   
         14                       b''                              b''   
         15                       b''                              b''   
         16                       NaN                              NaN   
         17                       b''                            b'cp'   
         18  b'www.se-asiacenter.org'                    b'peter porr'   
         19   b'www.adasmckinley.org'             b'george jones, jr.'   
         
            canonical\_NAEYC Valid Until canonical\_NAEYC Program Id  \textbackslash{}
         0                          b''                        b''   
         1                          b''                        b''   
         2              b'anelyn jablo'                        b''   
         3              b'anelyn jablo'                        b''   
         4                          b''                        b''   
         5                          b''                        b''   
         6                          b''                        b''   
         7                          b''                        b''   
         8                          b''                        b''   
         9                          b''                        b''   
         10                         b''                        b''   
         11                         b''                        b''   
         12                         b''                        b''   
         13                         NaN                        NaN   
         14                         b''                        b''   
         15                         b''                        b''   
         16                         NaN                        NaN   
         17                         b''                        b''   
         18       b'tsering ngalutsang'                        b''   
         19                b'anna luna'                        b''   
         
            canonical\_Email Address canonical\_Ounce of Prevention Description  \textbackslash{}
         0                      b''                                       b''   
         1                      b''                                       b''   
         2                      b''                                       b''   
         3                      b''                                       b''   
         4                      b''                                       b''   
         5                      b''                                       b''   
         6                      b''                                       b''   
         7                      b''                                       b''   
         8                      b''                                       b''   
         9                      b''                                       b''   
         10                     b''                                       b''   
         11                     b''                                       b''   
         12                     b''                                       b''   
         13                     NaN                                       NaN   
         14                     b''                                       b''   
         15                     b''                                       b''   
         16                     NaN                                       NaN   
         17                     b''                                       b''   
         18                     b''                                       b''   
         19                     b''                                       b''   
         
            canonical\_Purple binder service type  canonical\_Column  canonical\_Column2  
         0                                   b''               b''                b''  
         1                                   b''               b''                b''  
         2                                   b''               b''                b''  
         3                                   b''               b''                b''  
         4                                   b''               b''                b''  
         5                                   b''               b''                b''  
         6                                   b''               b''                b''  
         7                                   b''               b''                b''  
         8                                   b''               b''                b''  
         9                                   b''               b''      b'child care'  
         10                                  b''               b''      b'child care'  
         11                                  b''               b''      b'child care'  
         12                                  b''               b''      b'child care'  
         13                                  NaN               NaN                NaN  
         14                                  b''               b''                b''  
         15                                  b''               b''                b''  
         16                                  NaN               NaN                NaN  
         17                                  b''               b''      b'child care'  
         18                                  b''               b''      b'child care'  
         19                                  b''               b''      b'child care'  
         
         [20 rows x 66 columns]
\end{Verbatim}
            

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
